<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Probability Calculator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .calc-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .calc-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            transition: transform 0.3s ease;
        }

        .calc-card:hover {
            transform: translateY(-5px);
        }

        .calc-card h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.5em;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }

        .input-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            color: #333;
            font-weight: 600;
        }

        input, select {
            width: 100%;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s;
        }

        input:focus, select:focus {
            outline: none;
            border-color: #667eea;
        }

        button {
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            margin-top: 10px;
        }

        button:hover {
            transform: scale(1.02);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        button:active {
            transform: scale(0.98);
        }

        .result {
            margin-top: 20px;
            padding: 15px;
            background: #f0f4ff;
            border-radius: 8px;
            border-left: 4px solid #667eea;
            display: none;
        }

        .result.show {
            display: block;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .result-label {
            font-weight: 600;
            color: #667eea;
            margin-bottom: 5px;
        }

        .result-value {
            font-size: 1.3em;
            color: #333;
            font-weight: bold;
        }

        .error {
            color: #e74c3c;
            font-size: 14px;
            margin-top: 5px;
        }

        .info-text {
            font-size: 12px;
            color: #666;
            margin-top: 5px;
            font-style: italic;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸ“Š Probability Calculator</h1>
        
        <div class="calc-grid">
            <!-- Binomial Distribution -->
            <div class="calc-card">
                <h2>Binomial Distribution</h2>
                <div class="input-group">
                    <label>Number of trials (n):</label>
                    <input type="number" id="binom-n" min="1" value="10">
                </div>
                <div class="input-group">
                    <label>Probability of success (p):</label>
                    <input type="number" id="binom-p" min="0" max="1" step="0.01" value="0.5">
                </div>
                <div class="input-group">
                    <label>Number of successes (k):</label>
                    <input type="number" id="binom-k" min="0" value="5">
                </div>
                <div class="input-group">
                    <label>Calculate:</label>
                    <select id="binom-type">
                        <option value="pmf">P(X = k)</option>
                        <option value="cdf">P(X â‰¤ k)</option>
                        <option value="mean">Mean (Î¼)</option>
                        <option value="var">Variance (ÏƒÂ²)</option>
                    </select>
                </div>
                <button onclick="calcBinomial()">Calculate</button>
                <div id="binom-result" class="result">
                    <div class="result-label">Result:</div>
                    <div class="result-value" id="binom-value"></div>
                </div>
            </div>

            <!-- Poisson Distribution -->
            <div class="calc-card">
                <h2>Poisson Distribution</h2>
                <div class="input-group">
                    <label>Rate parameter (Î»):</label>
                    <input type="number" id="poisson-lambda" min="0" step="0.1" value="3">
                </div>
                <div class="input-group">
                    <label>Number of events (k):</label>
                    <input type="number" id="poisson-k" min="0" value="2">
                </div>
                <div class="input-group">
                    <label>Calculate:</label>
                    <select id="poisson-type">
                        <option value="pmf">P(X = k)</option>
                        <option value="cdf">P(X â‰¤ k)</option>
                        <option value="mean">Mean (Î¼)</option>
                        <option value="var">Variance (ÏƒÂ²)</option>
                    </select>
                </div>
                <button onclick="calcPoisson()">Calculate</button>
                <div id="poisson-result" class="result">
                    <div class="result-label">Result:</div>
                    <div class="result-value" id="poisson-value"></div>
                </div>
            </div>

            <!-- Geometric Distribution -->
            <div class="calc-card">
                <h2>Geometric Distribution</h2>
                <div class="input-group">
                    <label>Probability of success (p):</label>
                    <input type="number" id="geom-p" min="0" max="1" step="0.01" value="0.3">
                </div>
                <div class="input-group">
                    <label>Trial number (k):</label>
                    <input type="number" id="geom-k" min="1" value="3">
                </div>
                <div class="input-group">
                    <label>Calculate:</label>
                    <select id="geom-type">
                        <option value="pmf">P(X = k)</option>
                        <option value="cdf">P(X â‰¤ k)</option>
                        <option value="mean">Mean (Î¼)</option>
                        <option value="var">Variance (ÏƒÂ²)</option>
                    </select>
                </div>
                <button onclick="calcGeometric()">Calculate</button>
                <div id="geom-result" class="result">
                    <div class="result-label">Result:</div>
                    <div class="result-value" id="geom-value"></div>
                </div>
            </div>

            <!-- Normal Distribution -->
            <div class="calc-card">
                <h2>Normal Distribution</h2>
                <div class="input-group">
                    <label>Mean (Î¼):</label>
                    <input type="number" id="norm-mu" step="0.1" value="0">
                </div>
                <div class="input-group">
                    <label>Standard deviation (Ïƒ):</label>
                    <input type="number" id="norm-sigma" min="0.01" step="0.1" value="1">
                </div>
                <div class="input-group">
                    <label>Value (x):</label>
                    <input type="number" id="norm-x" step="0.1" value="1">
                </div>
                <div class="input-group">
                    <label>Calculate:</label>
                    <select id="norm-type">
                        <option value="pdf">PDF f(x)</option>
                        <option value="cdf">CDF P(X â‰¤ x)</option>
                    </select>
                </div>
                <button onclick="calcNormal()">Calculate</button>
                <div id="norm-result" class="result">
                    <div class="result-label">Result:</div>
                    <div class="result-value" id="norm-value"></div>
                </div>
            </div>

            <!-- Exponential Distribution -->
            <div class="calc-card">
                <h2>Exponential Distribution</h2>
                <div class="input-group">
                    <label>Rate parameter (Î»):</label>
                    <input type="number" id="exp-lambda" min="0.01" step="0.1" value="1">
                </div>
                <div class="input-group">
                    <label>Value (x):</label>
                    <input type="number" id="exp-x" min="0" step="0.1" value="1">
                </div>
                <div class="input-group">
                    <label>Calculate:</label>
                    <select id="exp-type">
                        <option value="pdf">PDF f(x)</option>
                        <option value="cdf">CDF P(X â‰¤ x)</option>
                        <option value="mean">Mean (Î¼)</option>
                        <option value="var">Variance (ÏƒÂ²)</option>
                    </select>
                </div>
                <button onclick="calcExponential()">Calculate</button>
                <div id="exp-result" class="result">
                    <div class="result-label">Result:</div>
                    <div class="result-value" id="exp-value"></div>
                </div>
            </div>

            <!-- Binomial Coefficient -->
            <div class="calc-card">
                <h2>Binomial Coefficient</h2>
                <div class="input-group">
                    <label>n (total items):</label>
                    <input type="number" id="comb-n" min="0" value="10">
                </div>
                <div class="input-group">
                    <label>k (items to choose):</label>
                    <input type="number" id="comb-k" min="0" value="3">
                </div>
                <p class="info-text">Calculates C(n,k) = n! / (k!(n-k)!)</p>
                <button onclick="calcCombination()">Calculate</button>
                <div id="comb-result" class="result">
                    <div class="result-label">C(n, k) =</div>
                    <div class="result-value" id="comb-value"></div>
                </div>
            </div>

            <!-- Permutation -->
            <div class="calc-card">
                <h2>Permutation</h2>
                <div class="input-group">
                    <label>n (total items):</label>
                    <input type="number" id="perm-n" min="0" value="10">
                </div>
                <div class="input-group">
                    <label>k (items to arrange):</label>
                    <input type="number" id="perm-k" min="0" value="3">
                </div>
                <p class="info-text">Calculates P(n,k) = n! / (n-k)!</p>
                <button onclick="calcPermutation()">Calculate</button>
                <div id="perm-result" class="result">
                    <div class="result-label">P(n, k) =</div>
                    <div class="result-value" id="perm-value"></div>
                </div>
            </div>

            <!-- Factorial -->
            <div class="calc-card">
                <h2>Factorial</h2>
                <div class="input-group">
                    <label>n:</label>
                    <input type="number" id="fact-n" min="0" value="5">
                </div>
                <p class="info-text">Calculates n! = n Ã— (n-1) Ã— ... Ã— 2 Ã— 1</p>
                <button onclick="calcFactorial()">Calculate</button>
                <div id="fact-result" class="result">
                    <div class="result-label">n! =</div>
                    <div class="result-value" id="fact-value"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Utility Functions
        function factorial(n) {
            if (n < 0) return NaN;
            if (n === 0 || n === 1) return 1;
            let result = 1;
            for (let i = 2; i <= n; i++) {
                result *= i;
            }
            return result;
        }

        function combination(n, k) {
            if (k > n || k < 0 || n < 0) return 0;
            if (k === 0 || k === n) return 1;
            return factorial(n) / (factorial(k) * factorial(n - k));
        }

        function permutation(n, k) {
            if (k > n || k < 0 || n < 0) return 0;
            return factorial(n) / factorial(n - k);
        }

        // Normal Distribution Functions
        function normalPDF(x, mu, sigma) {
            const coef = 1 / (sigma * Math.sqrt(2 * Math.PI));
            const exponent = -Math.pow(x - mu, 2) / (2 * Math.pow(sigma, 2));
            return coef * Math.exp(exponent);
        }

        function normalCDF(x, mu, sigma) {
            const z = (x - mu) / sigma;
            return 0.5 * (1 + erf(z / Math.sqrt(2)));
        }

        function erf(x) {
            const sign = x >= 0 ? 1 : -1;
            x = Math.abs(x);
            const a1 = 0.254829592;
            const a2 = -0.284496736;
            const a3 = 1.421413741;
            const a4 = -1.453152027;
            const a5 = 1.061405429;
            const p = 0.3275911;
            const t = 1 / (1 + p * x);
            const y = 1 - (((((a5 * t + a4) * t) + a3) * t + a2) * t + a1) * t * Math.exp(-x * x);
            return sign * y;
        }

        // Binomial Distribution
        function calcBinomial() {
            const n = parseInt(document.getElementById('binom-n').value);
            const p = parseFloat(document.getElementById('binom-p').value);
            const k = parseInt(document.getElementById('binom-k').value);
            const type = document.getElementById('binom-type').value;
            let result;

            if (type === 'pmf') {
                result = combination(n, k) * Math.pow(p, k) * Math.pow(1 - p, n - k);
            } else if (type === 'cdf') {
                result = 0;
                for (let i = 0; i <= k; i++) {
                    result += combination(n, i) * Math.pow(p, i) * Math.pow(1 - p, n - i);
                }
            } else if (type === 'mean') {
                result = n * p;
            } else if (type === 'var') {
                result = n * p * (1 - p);
            }

            document.getElementById('binom-value').textContent = result.toFixed(6);
            document.getElementById('binom-result').classList.add('show');
        }

        // Poisson Distribution
        function calcPoisson() {
            const lambda = parseFloat(document.getElementById('poisson-lambda').value);
            const k = parseInt(document.getElementById('poisson-k').value);
            const type = document.getElementById('poisson-type').value;
            let result;

            if (type === 'pmf') {
                result = (Math.pow(lambda, k) * Math.exp(-lambda)) / factorial(k);
            } else if (type === 'cdf') {
                result = 0;
                for (let i = 0; i <= k; i++) {
                    result += (Math.pow(lambda, i) * Math.exp(-lambda)) / factorial(i);
                }
            } else if (type === 'mean') {
                result = lambda;
            } else if (type === 'var') {
                result = lambda;
            }

            document.getElementById('poisson-value').textContent = result.toFixed(6);
            document.getElementById('poisson-result').classList.add('show');
        }

        // Geometric Distribution
        function calcGeometric() {
            const p = parseFloat(document.getElementById('geom-p').value);
            const k = parseInt(document.getElementById('geom-k').value);
            const type = document.getElementById('geom-type').value;
            let result;

            if (type === 'pmf') {
                result = Math.pow(1 - p, k - 1) * p;
            } else if (type === 'cdf') {
                result = 1 - Math.pow(1 - p, k);
            } else if (type === 'mean') {
                result = 1 / p;
            } else if (type === 'var') {
                result = (1 - p) / (p * p);
            }

            document.getElementById('geom-value').textContent = result.toFixed(6);
            document.getElementById('geom-result').classList.add('show');
        }

        // Normal Distribution
        function calcNormal() {
            const mu = parseFloat(document.getElementById('norm-mu').value);
            const sigma = parseFloat(document.getElementById('norm-sigma').value);
            const x = parseFloat(document.getElementById('norm-x').value);
            const type = document.getElementById('norm-type').value;
            let result;

            if (type === 'pdf') {
                result = normalPDF(x, mu, sigma);
            } else if (type === 'cdf') {
                result = normalCDF(x, mu, sigma);
            }

            document.getElementById('norm-value').textContent = result.toFixed(6);
            document.getElementById('norm-result').classList.add('show');
        }

        // Exponential Distribution
        function calcExponential() {
            const lambda = parseFloat(document.getElementById('exp-lambda').value);
            const x = parseFloat(document.getElementById('exp-x').value);
            const type = document.getElementById('exp-type').value;
            let result;

            if (type === 'pdf') {
                result = lambda * Math.exp(-lambda * x);
            } else if (type === 'cdf') {
                result = 1 - Math.exp(-lambda * x);
            } else if (type === 'mean') {
                result = 1 / lambda;
            } else if (type === 'var') {
                result = 1 / (lambda * lambda);
            }

            document.getElementById('exp-value').textContent = result.toFixed(6);
            document.getElementById('exp-result').classList.add('show');
        }

        // Combinatorial Functions
        function calcCombination() {
            const n = parseInt(document.getElementById('comb-n').value);
            const k = parseInt(document.getElementById('comb-k').value);
            const result = combination(n, k);
            document.getElementById('comb-value').textContent = result.toLocaleString();
            document.getElementById('comb-result').classList.add('show');
        }

        function calcPermutation() {
            const n = parseInt(document.getElementById('perm-n').value);
            const k = parseInt(document.getElementById('perm-k').value);
            const result = permutation(n, k);
            document.getElementById('perm-value').textContent = result.toLocaleString();
            document.getElementById('perm-result').classList.add('show');
        }

        function calcFactorial() {
            const n = parseInt(document.getElementById('fact-n').value);
            const result = factorial(n);
            document.getElementById('fact-value').textContent = result.toLocaleString();
            document.getElementById('fact-result').classList.add('show');
        }
    </script>
</body>
</html>
