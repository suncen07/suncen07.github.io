<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C to MIPS Converter</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts for "Inter" -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
        .container {
            max-width: 1024px;
        }
        textarea {
            resize: none;
            font-family: monospace;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">

    <div class="container bg-white shadow-xl rounded-2xl p-8 flex flex-col items-center w-full">
        <!-- Header Section -->
        <h1 class="text-3xl sm:text-4xl font-bold text-gray-800 text-center mb-4">
            C to MIPS Assembly Converter
        </h1>
        <p class="text-gray-500 text-center mb-8">
            This tool provides a user interface to simulate the conversion of C code to MIPS.
            Paste your C code and click "Convert".
        </p>

        <!-- Main Conversion Area -->
        <div class="flex flex-col sm:flex-row gap-6 w-full">
            <!-- C Code Input -->
            <div class="flex-1">
                <label for="c-code" class="block text-gray-700 font-semibold mb-2">C Code</label>
                <textarea id="c-code" rows="15" class="w-full p-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200" placeholder="Paste your C code here...">
// Simple C function to add two numbers
int add(int a, int b) {
    return a + b;
}
                </textarea>
            </div>

            <!-- MIPS Code Output -->
            <div class="flex-1">
                <label for="mips-code" class="block text-gray-700 font-semibold mb-2">MIPS Assembly</label>
                <textarea id="mips-code" rows="15" readonly class="w-full p-4 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 pointer-events-none" placeholder="MIPS output will appear here..."></textarea>
            </div>
        </div>

        <!-- Action Button and Status -->
        <div class="flex flex-col items-center mt-8">
            <button onclick="convertCode()" class="bg-blue-600 text-white font-semibold py-3 px-8 rounded-full shadow-lg hover:bg-blue-700 transition-colors duration-200 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
                Convert to MIPS
            </button>
            <div id="status-message" class="mt-4 text-sm text-gray-600 font-medium"></div>
        </div>
    </div>

    <script>
        // Function to handle the "conversion" process
        function convertCode() {
            const cCodeTextarea = document.getElementById('c-code');
            const mipsCodeTextarea = document.getElementById('mips-code');
            const statusMessage = document.getElementById('status-message');

            // Show a loading message
            statusMessage.textContent = 'Converting... Please wait.';
            statusMessage.classList.remove('text-gray-600');
            statusMessage.classList.add('text-blue-600');
            mipsCodeTextarea.value = '';

            // Simulate a conversion delay
            setTimeout(() => {
                const inputCode = cCodeTextarea.value.trim();

                // Check if the input is a valid C function to provide a mock MIPS output.
                // This is a simplified check for demonstration purposes.
                if (inputCode.includes('int add(') || inputCode.includes('return') || inputCode.includes('int main(')) {
                    // Pre-written MIPS code for a simple addition function
                    const mipsOutput = `# MIPS Assembly Code
# File: add.s
# Purpose: A simple function to add two numbers.
# int add(int a, int b) { return a + b; }

.text
.globl main

# Main program entry point
main:
    li $a0, 5       # Load integer 5 into argument register $a0
    li $a1, 10      # Load integer 10 into argument register $a1
    jal add         # Jump and link to the 'add' function
    move $s0, $v0   # Move the return value from $v0 to $s0 (result)
    
    li $v0, 10      # System call code for exit
    syscall         # Exit the program

# Function to add two numbers
# Arguments: $a0 (a), $a1 (b)
# Returns: $v0 (a + b)
add:
    add $v0, $a0, $a1   # $v0 = $a0 + $a1
    jr $ra              # Jump back to the caller
`;
                    mipsCodeTextarea.value = mipsOutput;
                    statusMessage.textContent = 'Conversion successful!';
                    statusMessage.classList.remove('text-blue-600');
                    statusMessage.classList.add('text-green-600');
                } else {
                    statusMessage.textContent = 'Error: Only simple C functions can be converted in this demo.';
                    statusMessage.classList.remove('text-blue-600');
                    statusMessage.classList.add('text-red-600');
                    mipsCodeTextarea.value = '# Error: Could not convert the provided C code.';
                }

            }, 1000); // 1-second delay to simulate processing
        }
    </script>
</body>
</html>
